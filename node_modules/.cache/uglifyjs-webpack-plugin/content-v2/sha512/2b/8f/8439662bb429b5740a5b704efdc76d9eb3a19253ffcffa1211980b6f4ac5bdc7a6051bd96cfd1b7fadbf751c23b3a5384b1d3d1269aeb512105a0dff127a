{"code":"!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=1)}([function(t,e,r){\"use strict\";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function t(e,r,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,r);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,n)}if(\"value\"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function a(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var f=r(2),l=0,s=1,c=0,p=1,y=\"main\",v=function(t){return\"object\"===(void 0===t?\"undefined\":i(t))&&\"function\"==typeof t.then&&\"function\"==typeof t.catch};var b=function t(e,r){u(this,t),this.payload=e,this.transferable=r};t.exports=function(t){var e=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},y,t),r=self.postMessage.bind(self),i=new(function(t){function i(){return u(this,i),function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,f),n(i,[{key:\"emit\",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return r({eventName:t,args:n}),this}},{key:\"emitLocally\",value:function(t){for(var e,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(e=o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),\"emit\",this)).call.apply(e,[this,t].concat(n))}},{key:\"operation\",value:function(t,r){return e[t]=r,this}}]),i}()),h=function(t,r,n){var o=e[n||y];if(!o)throw new Error(\"Not found handler for this request\");return o(r,g.bind(null,t))},d=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r([l,t,e,n],o)},g=function(t,e,n){if(!e)throw new Error(\"eventName is required\");if(\"string\"!=typeof e)throw new Error(\"eventName should be string\");r([s,t,e,n])};return self.addEventListener(\"message\",function(t){var e=t.data;Array.isArray(e)?function(t,e,r){var n=function(e){e&&e instanceof b?d(t,p,e.payload,e.transferable):d(t,p,e)},o=function(e){d(t,c,{message:e.message,stack:e.stack})};try{var i=h(t,e,r);v(i)?i.then(n).catch(o):n(i)}catch(t){o(t)}}.apply(void 0,a(e)):e&&e.eventName&&i.emitLocally.apply(i,[e.eventName].concat(a(e.args)))}),i},t.exports.TransferableResponse=b},function(t,e,r){\"use strict\";r.r(e);var n=r(0),o=r.n(n);function i(t){const e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function a(t,e){const r=e[0],n=e[1],o=e[2];let i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}o()(function(t,e){var r=t.width,n=t.height,u=t.depth,f=t.spacing,l=t.data,s=(t.haveWebgl2,t.depthStart),c=t.depthEnd;c!==u-1&&c--;var p=c-s+1,y=new Uint8Array(r*n*p*3),v=new Float32Array(r*n*p),b=r*n,h=0,d=0,g=new Float64Array(3);g[0]=(l[h+1]-l[h])/f[0],g[1]=(l[h+r]-l[h])/f[1],g[2]=(l[h+b]-l[h])/f[2];for(var m=i(g),_=-1,w=s;w<=c;++w){var O=0;w===u-1&&(O=-b);for(var j=0;j<n;++j){var P=0;j===n-1&&(P=-r);for(var M=0;M<r;++M){var S=h+O+P;M===r-1&&S--,g[0]=(l[S+1]-l[S])/f[0],g[1]=(l[S+r]-l[S])/f[1],g[2]=(l[S+b]-l[S])/f[2];var x=i(g);a(g,g),y[d++]=127.5+127.5*g[0],y[d++]=127.5+127.5*g[1],y[d++]=127.5+127.5*g[2],v[h++]=x}}}var A=function(t){let e=1/0;for(let r=0,n=t.length;r<n;++r)t[r]<e&&(e=t[r]);return e}(v),k=function(t){let e=-1/0;for(let r=0,n=t.length;r<n;++r)e<t[r]&&(e=t[r]);return e}(v),E={subGradients:y,subMagnitudes:v,subMinMag:m=Math.min(A,m),subMaxMag:_=Math.max(k,_),subDepthStart:s,subDepthEnd:c};return Promise.resolve(new o.a.TransferableResponse(E,[E.subGradients.buffer,E.subMagnitudes.buffer]))})},function(t,e,r){\"use strict\";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Object.defineProperty(this,\"__listeners\",{value:{},enumerable:!1,writable:!1})}return n(t,[{key:\"emit\",value:function(t){if(!this.__listeners[t])return this;for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[t][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){u.value.apply(void 0,r)}}catch(t){i=!0,a=t}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:\"once\",value:function(t,e){var r=this,n=function n(){r.off(t,n),e.apply(void 0,arguments)};return this.on(t,n)}},{key:\"on\",value:function(t,e){return this.__listeners[t]||(this.__listeners[t]=[]),this.__listeners[t].push(e),this}},{key:\"off\",value:function(t,e){return this.__listeners[t]=e?this.__listeners[t].filter(function(t){return t!==e}):[],this}}]),t}();t.exports=o}]);","extractedComments":[]}